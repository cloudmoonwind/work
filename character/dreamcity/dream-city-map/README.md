# 梦想城 AI养成文字游戏

## 项目概述

这是一个AI养成文字游戏的可视化地图系统，采用清新的二次元慕夏风格。

### 世界观设定
- **梦想城**：虚拟现实世界，银杏叶形状城市
- **四大外围区域**：
  - 东部：沙滩与海洋（蓝色）
  - 西部：丘陵与草地（黄绿色）
  - 北部：群山与雪峰（灰黑色）
  - 南部：平原与森林（绿色）

## 项目结构

```
dream-city-game/
├── README.md                 # 项目文档
├── package.json              # 依赖配置
├── src/
│   ├── data/                 # 数据配置
│   │   ├── locations.json    # 地点数据
│   │   ├── roadNetwork.json  # 道路网络
│   │   ├── zones.json        # 区域划分
│   │   └── mapConfig.json    # 地图配置
│   ├── components/           # React组件
│   │   ├── DreamCityMap.jsx  # 主地图组件
│   │   ├── LocationMarker.jsx # 地点标记
│   │   ├── RoadNetwork.jsx   # 道路网络
│   │   ├── OuterRegions.jsx  # 外围四大区
│   │   └── InfoPopup.jsx     # 信息弹窗
│   ├── utils/                # 工具函数
│   │   ├── pathfinding.js    # 路径查找
│   │   ├── coordinates.js    # 坐标转换
│   │   └── mapHelper.js      # 地图辅助
│   ├── styles/               # 样式文件
│   │   ├── map.css           # 地图样式
│   │   └── mucha-theme.css   # 慕夏风格主题
│   ├── types/                # 类型定义
│   │   └── index.ts          # TypeScript类型
│   └── App.jsx               # 应用入口
└── docs/                     # 文档
    ├── 数据结构说明.md
    ├── 地点规划说明.md
    └── 扩展开发指南.md
```

## 核心设计思路

### 1. 道路网络存储
- **节点式存储**：存储道路节点(RoadNode)及其连接关系
- **区域关联**：每个区域(Zone)记录周边节点ID
- **路径计算**：基于节点图进行A*寻路

### 2. 坐标系统
- **地图坐标**：SVG viewBox坐标系统 (0-1000, 0-1200)
- **银杏叶形状**：使用贝塞尔曲线定义城墙边界
- **区域坐标**：每个地点存储(x, y)坐标

### 3. 视觉实现
- **SVG绘制**：矢量图形，支持缩放
- **渐变边界**：使用渐变和滤镜实现模糊边界
- **道路样式**：曲线路径，深黄边框+白色填充
- **地点标记**：圆形，天蓝色(公共)/浅粉色(私人)

## 快速开始

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

## 数据配置说明

### locations.json
存储所有地点信息，包括名称、类型、坐标、状态等

### roadNetwork.json
存储道路节点和连接关系，用于路径显示和导航

### zones.json
存储道路围成的区域多边形，用于地点布局

### mapConfig.json
存储地图全局配置，包括尺寸、样式、外围区域设置

## 功能特性

- ✅ 银杏叶形状城市地图
- ✅ 四大外围区域渐变边界
- ✅ 曲线道路网络
- ✅ 地点分类显示（公共/私人）
- ✅ 点击地点查看详情
- ✅ 路径显示功能
- ✅ 地图缩放和拖拽
- 🚧 AI角色移动动画
- 🚧 实时状态更新
- 🚧 场景互动系统

## 后续扩展方向

1. **动态地点系统**：支持运行时添加/删除地点
2. **天气系统**：四季变化，天气效果
3. **时间系统**：昼夜循环，灯光效果
4. **角色系统**：多角色管理，位置追踪
5. **事件系统**：地点触发特殊事件
6. **数据持久化**：后端API对接

## 技术栈

- **前端框架**：React 18
- **图形渲染**：SVG / Canvas
- **状态管理**：React Context / Zustand
- **样式方案**：CSS Modules / Tailwind CSS
- **构建工具**：Vite
- **类型检查**：TypeScript（可选）

## 开发规范

- 数据与视图分离
- 组件化开发
- 配置化驱动
- 易于扩展

## License

MIT
